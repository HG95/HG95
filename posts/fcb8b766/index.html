<!DOCTYPE html>


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="读书的意义大概就是用生活所感去读书，用读书所得去生活。" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    『Statistics』参数估计 |  读书的意义大概就是用生活所感去读书，用读书所得去生活。
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/HG95/CDN/favicon.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

  
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

</html>



<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-Statistics-参数估计"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  『Statistics』参数估计
</h1>
 

    </header>
     
    <div class="article-meta">
      <a href="/posts/fcb8b766/" class="article-date">
  <time datetime="2021-01-09T08:44:03.000Z" itemprop="datePublished">2021-01-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Statistics/">Statistics</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">5.1k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">19 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <p>参数估计</p>
<a id="more"></a>

<p>注：在统计学的应用中，参数估计和假设检验是最重要的两个方面。参数估计是利用样本的信息，对总体的未知参数做估计。是典型的“以偏概全”</p>
<p>区间估计是除点估计之外的另一类参数估计。相对于点估计只给出一个具体的数值，区间估计能够给出一个估计的范围。</p>
<h1 id="一、参数及参数的估计"><a href="#一、参数及参数的估计" class="headerlink" title="一、参数及参数的估计"></a>一、参数及参数的估计</h1><p><strong>参数</strong>是总体分布中的参数，反映的是总体某方面特征的量。例如：合格率，均值，方差，中位数等。<strong>参数估计</strong>问题是利用从总体抽样得到的信息来估计总体的某些参数或者参数的某些函数。</p>
<h2 id="估计值与估计量"><a href="#估计值与估计量" class="headerlink" title="估计值与估计量"></a>估计值与估计量</h2><h2 id="问题的一般提法"><a href="#问题的一般提法" class="headerlink" title="问题的一般提法"></a>问题的一般提法</h2><p>设有一个统计总体，总体的分布函数为 $F(x,θ)$，其中θ为未知参数。现从该总体取样本 $X_{1}, X_{2}, \ldots, X_{n}$，要依据样本对参数θ作出估计，或估计θ的某个已知函数 $g(θ)$。这类问题称为参数估计。</p>
<h2 id="参数估计分类"><a href="#参数估计分类" class="headerlink" title="参数估计分类"></a>参数估计分类</h2><ul>
<li>点估计，其中点估计又可以分为矩估计和最大似然估计；</li>
<li>区间估计</li>
</ul>
<p>例如，估计降雨量：预计今年的降雨量为550mm，这是点估计；预计今年的降雨量为500 - 600mm，这是区间估计。</p>
<h1 id="二、点估计"><a href="#二、点估计" class="headerlink" title="二、点估计"></a>二、点估计</h1><p><strong>点估计（Point estimation）</strong></p>
<p><strong>点估计</strong>也称<strong>定值估计</strong>，它是以<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E6%8A%BD%E6%A0%B7">抽样</a>得到的<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E6%A0%B7%E6%9C%AC%E6%8C%87%E6%A0%87">样本指标</a>作为<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E6%80%BB%E4%BD%93%E6%8C%87%E6%A0%87">总体指标</a>的估计量，并以样本指标的实际值直接作为总体未知参数的估计值的一种推断方法。 </p>
<p>点估计的方法有<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/w/index.php?title=%E7%9F%A9%E4%BC%B0%E8%AE%A1%E6%B3%95&amp;action=edit">矩估计法</a>、<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E9%A1%BA%E5%BA%8F%E7%BB%9F%E8%AE%A1%E9%87%8F%E6%B3%95">顺序统计量法</a>、<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E6%B3%95">最大似然法</a>、<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E6%B3%95">最小二乘法</a>等。</p>
<h2 id="矩估计"><a href="#矩估计" class="headerlink" title="矩估计"></a>矩估计</h2><p>在<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E7%BB%9F%E8%AE%A1%E5%AD%A6">统计学</a>中，矩是指以期望为基础而定义的数字特征，一般分为原点矩和中心矩。</p>
<p>设 $X$ 为<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F">随机变量</a>，对任意正整数k，称 $E\left(X^{k }\right)$ 为随机变量 $X$ 的 k 阶原点矩，记为：<br>$$<br>m_k = E\left(X^{k }\right)<br>$$<br>当k＝1时，<br>$$<br>m_1 = E(X) = \mu<br>$$<br><strong>可见一阶原点矩为随机变量X的数学期望</strong>。</p>
<p>把 $C_{k }=E[X-E(X)]^{k}$  称为以$E(X)$为中心的k阶中心矩。</p>
<p>显然，当k＝2时<br>$$<br>C_{2 }=E[X-E(X)]^{2}<br>$$<br>可见二阶中心矩为随机变量X的<a target="_blank" rel="noopener" href="https://wiki.mbalib.com/wiki/%E6%96%B9%E5%B7%AE">方差</a>。</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200601131841.png"></center>

<p>矩估计法简便、直观，比较常用，但是矩估计法也有其局限性。首先，它要求总体的k阶原点矩存在，若不存在则无法估计；其次，矩估计法不能充分地利用估计时已掌握的有关总体分布形式的信息。</p>
<p>通常设 $θ$ 为总体X的待估计参数，一般用样本 $X_{1}, X_{2}, \cdots, X_{n}$  构成一个统计量 $\hat{\theta}=\hat{\theta}\left(X_{1}, X_{2}, \Lambda, X_{n}\right)$ 来估计 $θ$ ，则称 $\hat{\theta}$ 为θ的<strong>估计量</strong>。对于样本的一组数值 $x_{1}, x_{2}, \cdots, x_{n}$ 称θ的<strong>估计值</strong>。于是点估计即是寻求一个作为待估计参数θ的估计量  $\hat{\theta}(x_{1}, x_{2}, \cdots, x_{n})$ 的问题。但是必须注意，对于样本的不同数值，估计值是不相同的。</p>
<h2 id="极大似然估计"><a href="#极大似然估计" class="headerlink" title="极大似然估计"></a>极大似然估计</h2><p><strong>最大似然估计</strong>（英语：maximum likelihood estimation，缩写为MLE），也称<strong>极大似然估计</strong></p>
<p>最大似然估计的目的就是：利用已知的样本结果，反推最有可能（最大概率）导致这样结果的参数值。</p>
<p>原理：极大似然估计是建立在极大似然原理的基础上的一个统计方法，是概率论在统计学中的应用。极大似然估计提供了一种给定观察数据来评估模型参数的方法，即：“模型已定，参数未知”。通过若干次试验，观察其结果，利用试验结果得到某个参数值能够使样本出现的概率为最大，则称为极大似然估计。</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200601163935.png"></center>

<h3 id="如果总体X为离散型"><a href="#如果总体X为离散型" class="headerlink" title="如果总体X为离散型"></a>如果总体X为离散型</h3><p>假设分布率为 $P=p(x ; \theta)$，x 是发生的样本，$θ$ 是代估计的参数，$p(x ; \theta)$表示估计参数为θ时，发生x的的概率。</p>
<p>那么当我们的样本值为：$x_{1}, x_{2}, \ldots, x_{n}$ 时，<br>$$<br>\begin{equation}L(\theta)=L\left(x_{1}, x_{2}, \ldots, x_{n} ; \theta\right)=\prod_{i=1}^{n} p\left(x_{i} ; \theta\right)\end{equation}<br>$$<br>其中$L(θ)$ 成为样本的似然函数。</p>
<p>假设 </p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928110243.svg" alt="MommyTalk1601256515259" style="zoom:98%;">

<p>有 $\hat{\theta}$ 使得$ L(θ)$  的取值最大，那么  $\hat{\theta}$  就叫做参数 $\theta$ 的极大似然估计值。</p>
<h3 id="如果总体X为连续型"><a href="#如果总体X为连续型" class="headerlink" title="如果总体X为连续型"></a>如果总体X为连续型</h3><p>基本和上面类似，只是概率密度为 $f(x ; \theta)$ ，替代p。<br>$$<br>\begin{equation}L(\theta)=\prod_{i=1}^{n} f\left(x_{i} ; \theta\right)\end{equation}<br>$$<br>解法</p>
<ol>
<li>构造似然函数 $L(θ)$ </li>
<li>取对数：$lnL(θ)$</li>
<li>求导，计算极值</li>
<li>解方程，得到 $θ$ </li>
</ol>
<h2 id="点估计的评价"><a href="#点估计的评价" class="headerlink" title="点估计的评价"></a>点估计的评价</h2><p>由于存在不同的方法对总体中的未知参数进行估计，利用这些不同的方法得到的估计值也不同。因此就涉及到如何评价不同估计量的好坏的问题。</p>
<p>常用的评价准则有以下四条：</p>
<ul>
<li>无偏性准则</li>
<li>有效性准则</li>
<li>均方误差准则</li>
<li>相合性准则</li>
</ul>
<h3 id="无偏性准则"><a href="#无偏性准则" class="headerlink" title="无偏性准则"></a>无偏性准则</h3><p>无偏性是通过比较参数和参数估计量的期望来判断的。</p>
<p><strong>定义：</strong>若参数θ的估计值 $\hat{\theta}=\hat{\theta}\left(X_{1}, X_{2}, \ldots, X_{n}\right)$ 满足<br>$$<br>E(\hat{\theta})=\theta<br>$$<br>则称$\hat{\theta}$是θ的一个无偏估计量。</p>
<p>若$E(\hat{\theta}) \neq \theta$ ，那么$|E(\hat{\theta})-\theta|$ 称为估计量$\hat{\theta}$ 的偏差，若$\lim _{n \rightarrow \infty} E(\hat{\theta})=\theta$ ，则称是$\hat{\theta}$的$\theta$渐进无偏估计量。</p>
<p><strong>无偏性的统计意义：</strong></p>
<p>无偏性的统计意义是指在大量重复试验下，由$\hat{\theta}\left(X_{1}, X_{2}, \ldots, X_{n}\right)$ 给出的估计的平均值恰好是θ，从而无偏性保证了没$\hat{\theta}$有系统误差。 </p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928110403.png" alt="image-20200928104921265" style="zoom:80%;">

<h3 id="有效性"><a href="#有效性" class="headerlink" title="有效性"></a>有效性</h3><p>如果两种方法得到的结果都是无偏估计，那么这两种方法怎么区分好坏呢？这时候就可以用到有效性了。有效性是根据方差来判断估计值的好坏，方差较小的无偏估计量是一种更有效的估计量。</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928110411.png" alt="image-20200928105055408" style="zoom:67%;">

<h3 id="均方误差"><a href="#均方误差" class="headerlink" title="均方误差"></a>均方误差</h3><p>在实际应用中，均方误差准则比无偏性准则更重要！</p>
<p><strong>定义：</strong>设$X_{1}, X_{2}, \ldots, X_{n}$ 是从带参数θ的总体中抽出的样本，要估计θ，若采用$\hat{\theta}$作为参数θ的点估计，则其误差为.$\hat{\theta}-\theta$ 这个误差随样本$X_{1}, X_{2}, \ldots, X_{n}$的具体取值而定，也是随机的，因而其本身无法取为优良性指标. 我们取它的平方以消除符号，然后取均值，可得估计量$\hat{\theta}$的均方误差（误差平方的平均），<br>$$<br>E\left[(\hat{\theta}-\theta)^{2}\right]<br>$$<br>记为 $\operatorname{MSE}(\hat{\theta})$, 若$\hat{\theta}$是θ的无偏估计，则有$\operatorname{MSE}(\hat{\theta})=D(\hat{\theta})$</p>
<p>均方误差作为$\hat{\theta}$误差大小从整体角度的一个衡量，这个量越小，就表示$\hat{\theta}$的误差平均来说比较小，因而也就越优. 由定义可以看出来，均方误差小并不能保证$\hat{\theta}$在每次使用时一定给出小的误差，它有时也可以有较大的误差，但这种情况出现的机会比较少.</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928110420.png" alt="image-20200928105820791">

<h3 id="相合性"><a href="#相合性" class="headerlink" title="相合性"></a>相合性</h3><h1 id="三、区间估计"><a href="#三、区间估计" class="headerlink" title="三、区间估计"></a>三、区间估计</h1><p>用点估计 $\hat{\theta}\left(X_{1}, X_{2}, \ldots, X_{n}\right)$ 来估计总体的未知参数 $\theta$ ，一旦我们获得了样本观察值  $\left(x_{1}, x_{2}, \ldots, x_{n}\right)$</p>
<p>将它代入   $\hat{\theta}\left(X_{1}, X_{2}, \ldots, X_{n}\right)$  即可得到 $θ$ 的一个估计值。这很直观，也很便于使用。但是，点估计值只提供了$ θ$ 的一个近似值，并没有反映这种近似的精确度。同时，由于 $θ$ 本身是未知的，我们也无从知道这种估计的误差大小。因此，我们希望估计出一个真实参数所在的范围，并希望知道这个范围以多大的概率包含参数真值，这就是参数的区间估计问题。</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>设总体 $X \sim F(x ; \theta)$ ，$\theta$ 是待估计参数，若对给定的 $\alpha (0&lt;\alpha &lt;1)$ , 存在两个统计量 ：$\underline{\theta}=\underline{\theta}\left(X_{1}, X_{2}, \cdots, X_{n}\right), \quad \bar{\theta}=\bar{\theta}\left(X_{1}, X_{2}, \cdots, X_{n}\right)$ 使得 $P(\underline{\theta}&lt;\theta&lt;\overline{\boldsymbol{\theta}})=1-\alpha, \quad \boldsymbol{\theta} \in \Theta$ 则称随机区间 $(\underline{\theta}, \bar{\theta})$为 $\theta$ 的置信度为 $1-\alpha$ 的置信区间， $\underline{\theta}, \bar{\theta}$  分别成为置信下限和置信上限， $1-\alpha$ 成为置信度或置信水平。 </p>
<p>区间估计的几点说明：</p>
<ul>
<li>置信区间的长度  $\bar{\theta}-\underline{\theta}$  反映了<strong>估计的精度</strong>，  $\bar{\theta}-\underline{\theta}$  越小，估计精度越高。</li>
<li>$\alpha$ 反映了估计的可信度。$\alpha$ 越小，$1-\alpha$ 越大，估计的可信度越高；但通常会导致   $\bar{\theta}-\underline{\theta}$   增大。从而导致估计的精度降低。</li>
<li>$\alpha$ 给定后，置信区间的选取不唯一，通常选取 $\bar{\theta}-\underline{\theta}$   最小的区间。</li>
</ul>
<h2 id="置信区间的含义"><a href="#置信区间的含义" class="headerlink" title="置信区间的含义"></a>置信区间的含义</h2><p>以$\alpha=0.01$为例，此时置信度为99。假设反复抽取样本1000次，则得到1000个随机区间$(\underline{\theta}, \bar{\theta})$  ,在这1000个区间中，包含值的大约有990个，而不包含 $\theta$ 值的大约有10个。</p>
<h2 id="统计量"><a href="#统计量" class="headerlink" title="统计量"></a>统计量</h2><p>统计量的概念存在于样本中，是对样本某个指标的概括，例如上面例子中选出来的100位学生的平均身高就是一个统计量。统计量区别于”个体量”，具有以下两个特点：</p>
<ul>
<li>不包含任何未知数；</li>
<li>包含所有样本的信息。</li>
</ul>
<p>因此只要样本确定，统计量的值就可以直接计算出来。例如一旦选定100位学生，他们的平均身高就可以计算出来。</p>
<p><strong>定义</strong></p>
<p>样本的不包含任何未知参数的函数。通常可以通过构造统计量的方式，从样本中提取有用的信息来研究总体的分布以及各种特征数。</p>
<p>常用统计量：</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928110749.svg" alt="MommyTalk1601258070766">

<p>从上面可以看到：样本的均值等于样本的1阶原点矩；但是样本的方差不等于样本的2阶中心距（在总体中这两者是相等的）；</p>
<p><strong>用统计量估计总体的数字特征</strong></p>
<p>当总体数字特征未知时，</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928110756.svg" alt="MommyTalk1601260653628">

<p>以上估计的理论基础就是大数定律。值得注意的是，总体的均值μ是一个数，可能已知，也可能未知；而样本均值 $\bar{X}$是一个随机变量，依赖于样本值。</p>
<p>统计量的一些特点：</p>
<ul>
<li><p>统计量可以用于对总体中的未知参数进行点估计；</p>
</li>
<li><p>有些统计量的分布是明确的，例如“三大统计分布”所代表的统计量；</p>
<p>“三大抽样分布”都是统计量的分布，这些统计量的分布形式是明确的（有具体的数学公式，不包含未知参数），这也是为什么这三类分布在统计学中如此重要的原因之一。因为事实上大部分的统计量要么很难确定其分布，要么含有未知参数。</p>
</li>
</ul>
<h2 id="枢轴量"><a href="#枢轴量" class="headerlink" title="枢轴量"></a>枢轴量</h2><p>定义：设总体 $X$ 有概率密度（或分布律）$f(x;θ)$ ，其中 $θ$ 是待估的未知参数。设 $X_1,…,X_n$ 是一个样本，记：<br>$$<br>\begin{equation}G=G\left(X_{1}, \ldots, X_{n} ; \theta\right)\end{equation}<br>$$<br>为样本和待估参数 $θ$ 的函数，如果 $G$ 的分布已知，不依赖于任何参数，就称 $G$ 为枢轴量。</p>
<p>由上述定义可以看出枢轴量的几个特点：</p>
<ul>
<li>与某个待估参数有关（事实上枢轴量法主要被用于未知参数的区间估计）；</li>
<li>本身含有未知参数（待估参数），因此不具有“可观察性”，也就是说即使选定了样本也无法计算出确定的值；</li>
<li>其分布是明确的（有具体的数学公式，不包含未知参数）。</li>
</ul>
<p>一个比较常见的例子：均值或方差未知的正态分布转换成标准正态分布时，随机变量中还是包含未知参数，但是其分布中却不包含任何未知参数。因此标准化之后的随机变量是一个枢轴量。</p>
<p>一般正态分布与标准正态分布之间的关系： 当 $X \sim N(\mu, \sigma) \text { 时, } \frac{X-\mu}{\sigma} \sim N(0,1)$ </p>
<h3 id="枢轴量法需要解决的问题"><a href="#枢轴量法需要解决的问题" class="headerlink" title="枢轴量法需要解决的问题"></a>枢轴量法需要解决的问题</h3><p>枢轴量法作为区间估计的主要方法，<strong>要求解的问题</strong>如下：</p>
<p>设总体X的分布含有未知参数 $\theta, X_{1}, \ldots, X_{n}$ 是一次抽样得到的样本。</p>
<p>如何给出θ的置信水平为1−α的双侧置信区间(或单侧置信上限、单侧置信下限)？</p>
<p><strong>求解步骤：</strong></p>
<p> (1) 找一个随机变量 $G$，该随机变量需要满足以下两个条件： </p>
<ul>
<li>分布已知；</li>
<li>是总体未知参数θ和样本$X_{1}, \ldots, X_{n}$ 的函数</li>
</ul>
<p>(2) 找$a&lt;b$，使 $P(a&lt;G&lt;b)≥1−α$ </p>
<p>(3)从  $a \lt G \lt b$ 解出 $\hat{\theta}_L \lt \theta \lt \hat{\theta}_U$</p>
<p> $(\hat{\theta}_L , \hat{\theta}_U)$就是置信度为1−α的双侧置信区间。</p>
<h3 id="边界a-b的选择"><a href="#边界a-b的选择" class="headerlink" title="边界a,b的选择"></a><strong>边界a,b的选择</strong></h3><p>对于枢轴量G，满足P(a&lt;G&lt;b)≥1−α的a,b可能有很多，这时可以参考下面的原则来进行选择：</p>
<p>(1) 根据Neyman原则：求a和b使得区间长度最短；</p>
<p>(2) 如果最优解不存在或比较复杂，对连续总体，常取a和b满足 $P\left(G\left(X_{1}, \ldots, X_{n} ; \theta\right) \leq a\right)=P\left(G\left(X_{1}, \ldots, X_{n} ; \theta\right) \geq b\right)=\alpha / 2$ </p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111014.png" alt="image-20200928100912717">



<h3 id="枢轴量的构造"><a href="#枢轴量的构造" class="headerlink" title="枢轴量的构造"></a>枢轴量的构造</h3><p>枢轴量$G(X1,…,Xn;θ)$的构造，通常从θ的点估计 $\hat{\theta}$(如极大似然估计，矩估计等)出发，根据θ的分布(或包含θ的函数的分布)进行改造而得。</p>
<h3 id="常见枢轴量"><a href="#常见枢轴量" class="headerlink" title="常见枢轴量"></a>常见枢轴量</h3><p>从区间估计的求解流程和上面的例子可以看出来，如果要使用枢轴量法来作区间估计，找到合适的枢轴量是关键。在上面的例子中，由于总体的分布已知，因此对总体的均值 μ 进行估计的时候，先用样本均值  $\bar{X}$来进行点估计，然后再使用样本均值构造服从 t 分布的枢轴量来确定区间的边界a,b.</p>
<ul>
<li>下面所有的枢轴量都是跟<strong>总体均值和方差</strong>有关的，因此我们能估计的也仅限于这两个参数；</li>
<li>总体方差已知和未知是两种不同的情况，构造出来的枢轴量属于不同的分布；</li>
<li>具有两个正态总体时，可以估计两个不同总体均值的差或方差的比值.</li>
</ul>
<h4 id="单个正态总体-N-μ-σ-2-情形"><a href="#单个正态总体-N-μ-σ-2-情形" class="headerlink" title="单个正态总体 $N(μ,σ^2)$情形"></a><strong>单个正态总体 $N(μ,σ^2)$情形</strong></h4><p><strong>(1) μ的枢轴量：</strong></p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111028.svg" alt="MommyTalk1601259495972">

<p><strong>(2) $σ^2$的枢轴量：</strong></p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111032.svg" alt="MommyTalk1601259614208">



<h4 id="二个正态总体-N-left-mu-1-sigma-1-2-right-N-left-mu-2-sigma-2-2-right-的情形"><a href="#二个正态总体-N-left-mu-1-sigma-1-2-right-N-left-mu-2-sigma-2-2-right-的情形" class="headerlink" title="二个正态总体 $N\left(\mu_{1}, \sigma_{1}^{2}\right), N\left(\mu_{2}, \sigma_{2}^{2}\right)$)的情形"></a><strong>二个正态总体 $N\left(\mu_{1}, \sigma_{1}^{2}\right), N\left(\mu_{2}, \sigma_{2}^{2}\right)$)的情形</strong></h4><p><strong>(1) $μ_1−μ_2$的枢轴量</strong>：</p>
<ul>
<li><p>$σ_1^2,σ_2^2$ 已知时</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111038.svg" alt="MommyTalk1601259904271">
</li>
<li><p>$σ_1^2=σ_2^2$ 已知时</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111046.svg" alt="MommyTalk1601259990129">

<p>其中  $S_{w}^{2}=\frac{\left(n_{1}-1\right) S_{1}^{2}+\left(n_{2}-1\right) S_{2}^{2}}{n_{1}+n_{2}-2}, S_{w}=\sqrt{S_{w}^{2}}$</p>
</li>
</ul>
<p><strong>(2) $\frac{\sigma_{1}^{2}}{\sigma_{2}^{2}}$ 的枢轴量</strong></p>
<p> $σ_1,σ_2$ 未知时</p>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111051.svg" alt="MommyTalk1601260176899">



<h4 id="其他总体均值的区间估计"><a href="#其他总体均值的区间估计" class="headerlink" title="其他总体均值的区间估计"></a>其他总体均值的区间估计</h4><p>设总体X的均值为μ，方差为 $σ^2$，非正态分布或不知分布形式. 样本为 $X_{1}, \ldots, X_{n}$</p>
<p>当n充分大(一般n&gt;30)时，有中心极限定理知， $\bar{X} \sim N\left(\mu, \sigma^{2} / n\right)$ , 因此：<br>$$<br>\frac{\bar{X}-\mu}{\sigma / \sqrt{n}} \sim N(0,1)<br>$$<br>以上分布为近似分布</p>
<ul>
<li><p>当 $σ^2$ 已知时，μ的置信水平为 $1−α$ 的近似置信区间为<br>$$<br>\begin{equation}\left(\bar{X}-z_{\alpha / 2} \sigma / \sqrt{n}, \bar{X}+z_{\alpha / 2} \sigma / \sqrt{n}\right)\end{equation}<br>$$</p>
</li>
<li><p>当 $σ^2$ 未知时，以样本方差 $S^2$代入，得近似置信区间为<br>$$<br>\left(\bar{X}-z_{\alpha / 2} S / \sqrt{n}, \bar{X}+z_{\alpha / 2} S / \sqrt{n}\right)<br>$$</p>
</li>
</ul>
<h2 id="统计量-vs-枢轴量"><a href="#统计量-vs-枢轴量" class="headerlink" title="统计量 vs 枢轴量"></a>统计量 vs 枢轴量</h2><p>再次比较一下这两个量的异同：</p>
<ul>
<li>枢轴量和统计量都是样本的函数，但是枢轴量中还包含未知参数（待估计参数）；</li>
<li>枢轴量和统计量的分布都是某种抽样分布，与样本本身所属的总体分布不同；</li>
<li>枢轴量的分布不依赖于任何未知参数，统计量的分布常依赖于未知参数；</li>
<li>如果将枢轴量中的未知参数用某个已知的估计量替代，那么枢轴量就变成统计量了；</li>
<li>统计量常用于点估计和假设检验；</li>
<li>枢轴量常用于区间估计。</li>
</ul>
<img src="https://raw.githubusercontent.com/HG95/image/master/20200928111126.png" alt="image-20200928104105993">



<h1 id="四、一个总体参数的区间估计"><a href="#四、一个总体参数的区间估计" class="headerlink" title="四、一个总体参数的区间估计"></a>四、一个总体参数的区间估计</h1><h2 id="1、总体均值的区间估计"><a href="#1、总体均值的区间估计" class="headerlink" title="1、总体均值的区间估计"></a>1、总体均值的区间估计</h2><h3 id="正态总体、方差已知，或非正态总体、大样本"><a href="#正态总体、方差已知，或非正态总体、大样本" class="headerlink" title="正态总体、方差已知，或非正态总体、大样本"></a>正态总体、方差已知，或非正态总体、大样本</h3><img src="https://raw.githubusercontent.com/HG95/image/master/20200928153501.png" alt="image-20200928153407823" style="zoom:80%;">

<img src="https://raw.githubusercontent.com/HG95/image/master/20200928153507.png" alt="image-20200928153435384" style="zoom:80%;">



<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200608232103.png"></center>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200608232314.png"></center>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200608232445.png"></center>

<h3 id="正态总体、方差未知、小样本"><a href="#正态总体、方差未知、小样本" class="headerlink" title="正态总体、方差未知、小样本"></a>正态总体、方差未知、小样本</h3><img src="https://raw.githubusercontent.com/HG95/image/master/20200928153901.png" alt="image-20200928153850414" style="zoom:80%;">

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200608232828.png"></center>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><img src="https://raw.githubusercontent.com/HG95/image/master/20200928143559.png" alt="image-20200928141153732" style="zoom: 50%;">

<h2 id="2、总体比例的区间估计"><a href="#2、总体比例的区间估计" class="headerlink" title="2、总体比例的区间估计"></a>2、总体比例的区间估计</h2><center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200601174256.png"></center>

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200608231343.png"></center>



<h2 id="3、总体方差分布的区间估计"><a href="#3、总体方差分布的区间估计" class="headerlink" title="3、总体方差分布的区间估计"></a>3、总体方差分布的区间估计</h2><center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200601174420.png"></center>

<p>例题:</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200608233029.png"></center>

<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p align="center">一个总体参数的估计及所使用的分布</p>

<img src="https://raw.githubusercontent.com/HG95/image/master/20200928143539.png" alt="待估参数" style="zoom: 50%;">

<h1 id="五、两个总体参数的区间估计"><a href="#五、两个总体参数的区间估计" class="headerlink" title="五、两个总体参数的区间估计"></a>五、两个总体参数的区间估计</h1><p>对于两个总体，所关心的参数主要有两个总体的均值之差 $\mu_1-\mu_2$ , 两个总体的比例之差 $\pi_1 -\pi_2$ 、两个总体的方差之比 $\sigma_1^2 / \sigma_2^2$ 等。</p>
<h2 id="1、两个总体均值之差区间估计"><a href="#1、两个总体均值之差区间估计" class="headerlink" title="1、两个总体均值之差区间估计"></a>1、两个总体均值之差区间估计</h2><p>设两个总体的均值分别为 $\mu_1$ 和 $\mu_2$ .从两个总体中分别抽取样本量为$n_1$ 和 $n_1$ 的两个随机样本，其样本均值分别为 $\bar{x_1}$ 和 $\bar{x_2}$ 。两个总体均值之差 $μ_1 - μ_2$ 的估计量显然是两个样本的均值之差 $\bar{x_1}-\bar{x_2}$ 。</p>
<h3 id="两个总体均值之差的估计：独立样本"><a href="#两个总体均值之差的估计：独立样本" class="headerlink" title="两个总体均值之差的估计：独立样本"></a>两个总体均值之差的估计：独立样本</h3><h4 id="1-大样本的估计"><a href="#1-大样本的估计" class="headerlink" title="(1) 大样本的估计"></a>(1) 大样本的估计</h4><center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609084316.png"></center>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200601190444.png"></center>

<h4 id="2-小样本的估计"><a href="#2-小样本的估计" class="headerlink" title="(2) 小样本的估计"></a>(2) 小样本的估计</h4><p>在两个样本都为小样本的情况下，为估计两个总体的均值之差，需要作出以下</p>
<p>假定:</p>
<ul>
<li>两个总体都服从正态分布。</li>
<li>两个随机样本独立地分别抽自两个总体。</li>
</ul>
<p>在上述假定下，无论样本量的大小，两个样本均值之差都服从正态分布。<strong>当两个总体方差 $\sigma_1^2$ 和  $\sigma_1^2$  已知时</strong>，可用式(7.13) 建立两个总体均值之差的置信区间。<strong>当 $\sigma_1^2$ 和  $\sigma_1^2$  未知时</strong>，有以下几种情况。</p>
<ol>
<li><p>当两个总体的方差 $\sigma_1^2$ 和  $\sigma_1^2$  未知但相等时</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609085147.png"></center>

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609085417.png"></center>



</li>
</ol>
<ol start="2">
<li><p>当两个总体的方差 $\sigma_1^2$ 和  $\sigma_1^2$  未知并且不相等时</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609085807.png"></center>

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609085958.png"></center>



</li>
</ol>
<h3 id="两个总体均值之差的估计：匹配样本"><a href="#两个总体均值之差的估计：匹配样本" class="headerlink" title="两个总体均值之差的估计：匹配样本"></a>两个总体均值之差的估计：匹配样本</h3><p>在例7.7中使用的是两个独立的样本，但使用独立样本来估计两个总体均值之差存在着潜在的弊端。比如，在对每种方法随机指派12个工人时，偶尔可能会将技术比较差的12个工人指定给方法1，而将技术较好的12个工人指定给方法2.这种不公平的指派可能会掩盖两种方法组装产品所需时间的真正差异。为解决这一问题，可以使用<strong>匹配样本</strong>(matchedsample).即一个样本中的数据与另一个样本中的数据相对应。比如，先指定12个工人用第-一种方法组装产品，然后再让这12个工人用第二种方法组装产品，这样得到的两种方法组装产品的数据就是匹配数据。匹配样本可以消除由于样本指定的不公平造成的两种方法组装时间上的</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609090607.png"></center>

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609090730.png"></center>

<h2 id="2、两个总体比例之差的区间估计"><a href="#2、两个总体比例之差的区间估计" class="headerlink" title="2、两个总体比例之差的区间估计"></a>2、两个总体比例之差的区间估计</h2><center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609091045.png"></center>

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609091403.png"></center>

<h2 id="3、两个总体方差比的区间估计"><a href="#3、两个总体方差比的区间估计" class="headerlink" title="3、两个总体方差比的区间估计"></a>3、两个总体方差比的区间估计</h2><center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609091726.png"></center>

<p>例题：</p>
<center><img src="https://raw.githubusercontent.com/HG1227/image/master/img_tuchuang/20200609092057.png"></center>



<h1 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h1><img src="https://raw.githubusercontent.com/HG95/image/master/20200928154351.png" alt="image-20200928152819789" style="zoom:80%;">

<img src="https://raw.githubusercontent.com/HG95/image/master/20200928154344.png" alt="image-20200928152849259" style="zoom:80%;">

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script> 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
			本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/posts/fcb8b766/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/posts/475123e4/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            『Statistics』 假设检验
          
        </div>
      </a>
    
    
      <a href="/posts/5f339216/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">『OriginPro』 多元拟合分析</div>
      </a>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<!-- 评论背景 -->                                                         
<style>
    #veditor{min-height: 10rem;
        background-image: url(https://raw.githubusercontent.com/HG95/image/master/20201128231728.gif);
        background-size: contain;
        background-repeat: no-repeat;
        background-position: right;
        background-color: rgba(255,255,255,0);
        resize: none;}
</style>
<!-- Valine配置 --> 
<script>
  new Valine({
    el: "#vcomments",
    app_id: "rcJnXG7nEvYWvgGLAEOkaQmH-gzGzoHsz",
    app_key: "nR5OWuczEKRHudn7Wsqdb5tA",
    path: window.location.pathname,
    avatar: "wavatar",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
  	<ul>
		<li><i class="fa fa-envelope-o fa-fw"></i></li>
	</ul>
    <ul>
      <li>
        Copyrights &copy;
        2019-2021
        <i class="ri-heart-fill heart_icon"></i> HG
		</span>  
		| 
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
		 
      </li>
    </ul>


	<!-- 运行天数 -->
	<ul>
		<li><span id="runtime_span"></span></li>
	</ul>


  </div>
</footer>

<script type="text/javascript">			
    function show_runtime() {
        window.setTimeout("show_runtime()", 1000);
        X = new Date("09/10/2020 22:22:22");
        Y = new Date();
        T = (Y.getTime() - X.getTime());
        M = 24 * 60 * 60 * 1000;
        a = T / M;
        A = Math.floor(a);
        b = (a - A) * 24;
        B = Math.floor(b);
        c = (b - B) * 60;
        C = Math.floor((b - B) * 60);
        D = Math.floor((c - C) * 60);
        runtime_span.innerHTML = "小站在各种崩坏中坚持了: " + A + "天" + B + "小时" + C + "分" + D + "秒"
    }
	show_runtime();
</script>




      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="https://cdn.jsdelivr.net/gh/HG95/CDN/ayer.png" alt="错位的梦寐"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/excel/">Excel</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/movies">电影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/books">阅读</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://mengmei14679.lofter.com/">相册</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/ziyuan">导航</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friend">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝瓶农夫三拳吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/HG95/CDN/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/HG95/CDN/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->


<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true
  }
</script>

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->


<script src="/js/clickLove.js"></script>


<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
  <!-- 三角彩带背景 -->
  <canvas id="evanyou-canvas" style="opacity: 0.3; position: fixed; top: 0px; left: 0px; z-index: -1; width: 100%; height: 100%; pointer-events: none;"></canvas>
  <script src="https://cdn.jsdelivr.net/gh/XXXZhy/Blog_Image/js/evanyou_canvas.js"></script>
  
</body>

</html>